{"is_source_file": true, "format": "JavaScript", "description": "This file contains core game logic functions for the 2048 game, including grid initialization, tile movement, merging logic, and utility functions, implemented as pure functions for the frontend.", "external_files": [], "external_methods": [], "published": ["initializeGrid", "moveLeft", "moveRight", "moveUp", "moveDown", "applyMove", "canMove", "hasWon"], "classes": [], "methods": [{"name": "initializeGrid()", "description": "Initializes a 4x4 game grid with two random tiles (2 or 4).", "scope": "", "scopeKind": ""}, {"name": "spawnRandom(grid)", "description": "Spawns a random tile (2 or 4) in an empty cell of the grid.", "scope": "", "scopeKind": ""}, {"name": "compressRow(row)", "description": "Removes zeros from a row and shifts tiles left.", "scope": "", "scopeKind": ""}, {"name": "mergeRowLeft(row)", "description": "Merges adjacent tiles of the same value in a row moving left, returning the merged row and score delta.", "scope": "", "scopeKind": ""}, {"name": "transpose(grid)", "description": "Transposes a 2D grid.", "scope": "", "scopeKind": ""}, {"name": "reverseRows(grid)", "description": "Reverses each row in the grid.", "scope": "", "scopeKind": ""}, {"name": "moveLeft(grid)", "description": "Moves tiles left in the grid applying the merge rule and returns the new grid, movement status, and score delta.", "scope": "", "scopeKind": ""}, {"name": "moveRight(grid)", "description": "Moves tiles right in the grid.", "scope": "", "scopeKind": ""}, {"name": "moveUp(grid)", "description": "Moves tiles up in the grid.", "scope": "", "scopeKind": ""}, {"name": "moveDown(grid)", "description": "Moves tiles down in the grid.", "scope": "", "scopeKind": ""}, {"name": "applyMove(grid, direction)", "description": "Applies a move in a specified direction and spawns a new tile if the grid changed.", "scope": "", "scopeKind": ""}, {"name": "canMove(grid)", "description": "Checks if any move is possible on the current grid.", "scope": "", "scopeKind": ""}, {"name": "hasWon(grid)", "description": "Checks if the grid contains a tile with value 2048 or greater, indicating a win.", "scope": "", "scopeKind": ""}], "calls": ["spawnRandom", "moveLeft", "moveRight", "moveUp", "moveDown"], "search-terms": ["2048 game logic", "grid initialization", "tile movement", "merge rules", "game state functions", "pure functions", "frontend game engine"], "state": 2, "file_id": 13, "knowledge_revision": 30, "git_revision": "", "ctags": [{"_type": "tag", "name": "SIZE", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^  SIZE,$/", "language": "JavaScript", "kind": "field", "scope": "__internals", "scopeKind": "class"}, {"_type": "tag", "name": "SIZE", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^const SIZE = 4;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__internals", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export const __internals = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "applyMove", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function applyMove(grid, direction) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid, direction)"}, {"_type": "tag", "name": "canMove", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function canMove(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "cells", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^  const cells = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clone", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^const clone = (grid) => grid.map((row) => row.slice());$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "compressRow", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^function compressRow(row) {$/", "language": "JavaScript", "kind": "function", "signature": "(row)"}, {"_type": "tag", "name": "dirMap", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^  const dirMap = {$/", "language": "JavaScript", "kind": "class", "scope": "applyMove", "scopeKind": "class"}, {"_type": "tag", "name": "down", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^    down: moveDown,$/", "language": "JavaScript", "kind": "property", "scope": "applyMove.dirMap", "scopeKind": "class"}, {"_type": "tag", "name": "getEmptyCells", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^const getEmptyCells = (grid) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "hasWon", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function hasWon(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "initializeGrid", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function initializeGrid() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "left", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^    left: moveLeft,$/", "language": "JavaScript", "kind": "property", "scope": "applyMove.dirMap", "scopeKind": "class"}, {"_type": "tag", "name": "mergeRowLeft", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^function mergeRowLeft(row) {$/", "language": "JavaScript", "kind": "function", "signature": "(row)"}, {"_type": "tag", "name": "moveDown", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function moveDown(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "moveLeft", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function moveLeft(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "moveRight", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function moveRight(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "moveUp", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^export function moveUp(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "randomChoice", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^const randomChoice = (arr) => arr[Math.floor(Math.random() * arr.length)];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "reverseRows", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^function reverseRows(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "right", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^    right: moveRight,$/", "language": "JavaScript", "kind": "property", "scope": "applyMove.dirMap", "scopeKind": "class"}, {"_type": "tag", "name": "spawnRandom", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^function spawnRandom(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "transpose", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^function transpose(grid) {$/", "language": "JavaScript", "kind": "function", "signature": "(grid)"}, {"_type": "tag", "name": "up", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/engine.js", "pattern": "/^    up: moveUp,$/", "language": "JavaScript", "kind": "property", "scope": "applyMove.dirMap", "scopeKind": "class"}], "hash": "4d827318d3cfca25243804228916b8cc", "format-version": 4, "code-base-name": "2048_game_frontend", "filename": "2048_game_frontend/src/game/engine.js", "fields": [{"name": "SIZE,", "scope": "__internals", "scopeKind": "class", "description": "unavailable"}, {"name": "down: moveDown,", "scope": "applyMove.dirMap", "scopeKind": "class", "description": "unavailable"}, {"name": "left: moveLeft,", "scope": "applyMove.dirMap", "scopeKind": "class", "description": "unavailable"}, {"name": "right: moveRight,", "scope": "applyMove.dirMap", "scopeKind": "class", "description": "unavailable"}, {"name": "up: moveUp,", "scope": "applyMove.dirMap", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"30": ""}]}