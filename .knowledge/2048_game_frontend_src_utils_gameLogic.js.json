{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for managing the game logic of a 2048 game, including grid creation, tile generation, movement, merging, cloning, and game state checks. It exports functions for external use, forming the core logic for game mechanics.", "external_files": [], "external_methods": [], "published": ["createEmptyGrid", "generateId", "getEmptyCells", "spawnRandomTile", "canMove", "cloneCells", "compressAndMerge", "moveGrid", "gridToTiles"], "classes": [], "methods": [{"name": "createEmptyGrid()", "description": "Creates and returns a 4x4 grid initialized with nulls, representing an empty game board.", "scope": "", "scopeKind": ""}, {"name": "generateId()", "description": "Generates a unique-ish identifier string for tiles, combining timestamp and randomness.", "scope": "", "scopeKind": ""}, {"name": "getEmptyCells(cells)", "description": "Returns an array of [row, col] pairs indicating the positions of empty cells in the grid.", "scope": "", "scopeKind": ""}, {"name": "spawnRandomTile(cells)", "description": "Mutates the grid by adding a new tile with value 2 (90%) or 4 (10%) at a random empty position.", "scope": "", "scopeKind": ""}, {"name": "canMove(cells)", "description": "Checks if any move is possible in the current grid state, either by empty space or adjacent equal tiles.", "scope": "", "scopeKind": ""}, {"name": "cloneCells(cells)", "description": "Deep clones the grid, creating new tile objects to prevent mutation leakage.", "scope": "", "scopeKind": ""}, {"name": "compressAndMerge(row)", "description": "Compresses a line (row/column) by removing nulls, merges equal tiles once, and returns the compressed line with movement info and merged IDs.", "scope": "", "scopeKind": ""}, {"name": "moveGrid(cells, direction)", "description": "Applies a move in a specified direction ('left', 'right', 'up', 'down'), returning the new grid, move status, and score gained.", "scope": "", "scopeKind": ""}, {"name": "gridToTiles(cells)", "description": "Flattens the grid into a list of tile objects for rendering purposes.", "scope": "", "scopeKind": ""}], "calls": ["getEmptyCells", "generateId", "compressAndMerge"], "search-terms": ["2048", "game logic", "grid manipulation", "tile merging", "move validation", "random spawn", "clone grid", "directional move"], "state": 2, "file_id": 18, "knowledge_revision": 40, "git_revision": "", "ctags": [{"_type": "tag", "name": "canMove", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function canMove(cells) {$/", "language": "JavaScript", "kind": "function", "signature": "(cells)"}, {"_type": "tag", "name": "cloneCells", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function cloneCells(cells) {$/", "language": "JavaScript", "kind": "function", "signature": "(cells)"}, {"_type": "tag", "name": "col", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^        col: 0,$/", "language": "JavaScript", "kind": "property", "scope": "compressAndMerge.merged", "scopeKind": "class"}, {"_type": "tag", "name": "compressAndMerge", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function compressAndMerge(row) {$/", "language": "JavaScript", "kind": "function", "signature": "(row)"}, {"_type": "tag", "name": "createEmptyGrid", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function createEmptyGrid() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "generateId", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function generateId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEmptyCells", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function getEmptyCells(cells) {$/", "language": "JavaScript", "kind": "function", "signature": "(cells)"}, {"_type": "tag", "name": "gridToTiles", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function gridToTiles(cells) {$/", "language": "JavaScript", "kind": "function", "signature": "(cells)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^        id: generateId(),$/", "language": "JavaScript", "kind": "property", "scope": "compressAndMerge.merged", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^  const tile = { id: generateId(), value, row: r, col: c, new: true, merging: false };$/", "language": "JavaScript", "kind": "property", "scope": "spawnRandomTile.tile", "scopeKind": "class"}, {"_type": "tag", "name": "merged", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^      const merged = {$/", "language": "JavaScript", "kind": "class", "scope": "compressAndMerge", "scopeKind": "class"}, {"_type": "tag", "name": "merging", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^        merging: true,$/", "language": "JavaScript", "kind": "property", "scope": "compressAndMerge.merged", "scopeKind": "class"}, {"_type": "tag", "name": "moveGrid", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function moveGrid(cells, direction) {$/", "language": "JavaScript", "kind": "function", "signature": "(cells, direction)"}, {"_type": "tag", "name": "row", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^        row: 0,$/", "language": "JavaScript", "kind": "property", "scope": "compressAndMerge.merged", "scopeKind": "class"}, {"_type": "tag", "name": "spawnRandomTile", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^export function spawnRandomTile(cells) {$/", "language": "JavaScript", "kind": "function", "signature": "(cells)"}, {"_type": "tag", "name": "tile", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^  const tile = { id: generateId(), value, row: r, col: c, new: true, merging: false };$/", "language": "JavaScript", "kind": "class", "scope": "spawnRandomTile", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^        value: mergedValue,$/", "language": "JavaScript", "kind": "property", "scope": "compressAndMerge.merged", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/utils/gameLogic.js", "pattern": "/^  const tile = { id: generateId(), value, row: r, col: c, new: true, merging: false };$/", "language": "JavaScript", "kind": "field", "scope": "spawnRandomTile.tile", "scopeKind": "class"}], "hash": "763958a04305e7ea13fd526273c20134", "format-version": 4, "code-base-name": "2048_game_frontend", "filename": "2048_game_frontend/src/utils/gameLogic.js", "fields": [{"name": "col: 0,", "scope": "compressAndMerge.merged", "scopeKind": "class", "description": "unavailable"}, {"name": "id: generateId(),", "scope": "compressAndMerge.merged", "scopeKind": "class", "description": "unavailable"}, {"name": "const tile = { id: generateId(), value, row: r, col: c, new: true, merging: false };", "scope": "spawnRandomTile.tile", "scopeKind": "class", "description": "unavailable"}, {"name": "merging: true,", "scope": "compressAndMerge.merged", "scopeKind": "class", "description": "unavailable"}, {"name": "row: 0,", "scope": "compressAndMerge.merged", "scopeKind": "class", "description": "unavailable"}, {"name": "value: mergedValue,", "scope": "compressAndMerge.merged", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"40": ""}]}