{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the 'Game' React component for the 2048 game frontend. It manages game state, user inputs (keyboard and swipe), game logic integration, and UI rendering including the game board, score, controls, and accessibility features.", "external_files": ["../game/constants", "../game/move", "../game/board", "../game/storage", "./Board", "./ScorePanel", "./Controls", "../hooks/useEventListener", "../hooks/useSwipe", "../App.css"], "external_methods": ["makeEmptyBoard", "spawnRandomTile", "cloneBoard", "canMergeOrMove", "getMaxTile", "setBestScore", "getBestScore", "getLastState", "setLastState", "clearLastState", "move"], "published": [], "classes": [], "methods": [{"name": "Game()", "description": "Main React component encapsulating the 2048 game logic, state management, input handling, and rendering.", "scope": "", "scopeKind": ""}, {"name": "handleRestart", "description": "Resets the game board, score, and state to start a new game, optionally clearing saved state."}, {"name": "handleMove", "description": "Handles movement in a given direction, updates game state accordingly, and manages animation lock."}, {"name": "handleUndo", "description": "Reverts the game state to the previous move from history."}, {"name": "releaseLockSoon", "description": "Releases the move animation lock after a set timeout."}, {"name": "afterMoveHousekeeping", "description": "Handles post-move updates such as spawning new tiles and checking for game over or win conditions."}], "calls": ["makeEmptyBoard", "spawnRandomTile", "getLastState", "setLastState", "getBestScore", "setBestScore", "cloneBoard", "move", "canMergeOrMove", "getMaxTile", "setHistory", "setBoard", "setScore", "setGameOver", "setGameWon", "setStatusMessage", "setLastAction"], "search-terms": ["React 2048 game component", "game state management", "keyboard controls", "touch swipe", "accessibility live regions", "game restart and undo"], "state": 2, "file_id": 20, "knowledge_revision": 66, "git_revision": "01b3905b7551ab254c04a9c27637e53e659c1fa0", "revision_history": [{"45": ""}, {"66": "01b3905b7551ab254c04a9c27637e53e659c1fa0"}], "ctags": [{"_type": "tag", "name": "Game", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^function Game() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            board={board}$/", "language": "JavaScript", "kind": "field", "scope": "Game.board", "scopeKind": "class"}, {"_type": "tag", "name": "gameOver", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            gameOver={gameOver}$/", "language": "JavaScript", "kind": "field", "scope": "Game.gameOver", "scopeKind": "class"}, {"_type": "tag", "name": "gameWon", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            gameWon={gameWon}$/", "language": "JavaScript", "kind": "field", "scope": "Game.gameWon", "scopeKind": "class"}, {"_type": "tag", "name": "handleUndo", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            onUndo={handleUndo}$/", "language": "JavaScript", "kind": "field", "scope": "Game.onUndo", "scopeKind": "class"}, {"_type": "tag", "name": "history", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            isUndoDisabled={history.length === 0}$/", "language": "JavaScript", "kind": "field", "scope": "Game.isUndoDisabled", "scopeKind": "class"}, {"_type": "tag", "name": "isAnimatingRef", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            isAnimating={isAnimatingRef.current}$/", "language": "JavaScript", "kind": "field", "scope": "Game.isAnimating", "scopeKind": "class"}, {"_type": "tag", "name": "lastSpawnRef", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            lastSpawn={lastSpawnRef.current}$/", "language": "JavaScript", "kind": "field", "scope": "Game.lastSpawn", "scopeKind": "class"}, {"_type": "tag", "name": "maxTile", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            maxTile={maxTile}$/", "language": "JavaScript", "kind": "field", "scope": "Game.maxTile", "scopeKind": "class"}, {"_type": "tag", "name": "swipeRef", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            ref={swipeRef}$/", "language": "JavaScript", "kind": "field", "scope": "Game.ref", "scopeKind": "class"}], "hash": "c9ea79726e12f79c561117133b1fc766", "format-version": 4, "code-base-name": "2048_game_frontend", "filename": "2048_game_frontend/src/components/Game.js", "fields": [{"name": "board={board}", "scope": "Game.board", "scopeKind": "class", "description": "unavailable"}, {"name": "gameOver={gameOver}", "scope": "Game.gameOver", "scopeKind": "class", "description": "unavailable"}, {"name": "gameWon={gameWon}", "scope": "Game.gameWon", "scopeKind": "class", "description": "unavailable"}, {"name": "onUndo={handleUndo}", "scope": "Game.onUndo", "scopeKind": "class", "description": "unavailable"}, {"name": "isUndoDisabled={history.length === 0}", "scope": "Game.isUndoDisabled", "scopeKind": "class", "description": "unavailable"}, {"name": "isAnimating={isAnimatingRef.current}", "scope": "Game.isAnimating", "scopeKind": "class", "description": "unavailable"}, {"name": "lastSpawn={lastSpawnRef.current}", "scope": "Game.lastSpawn", "scopeKind": "class", "description": "unavailable"}, {"name": "maxTile={maxTile}", "scope": "Game.maxTile", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={swipeRef}", "scope": "Game.ref", "scopeKind": "class", "description": "unavailable"}]}