{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the 'Game' React component, which serves as the main container for the 2048 game. It manages game state (board, score, history, game over/win flags), handles user inputs (keyboard and touch swipe), initializes and resets the game, and renders child components such as the game board, score panel, and controls.", "external_files": ["../game/constants", "../game/move", "../game/board", "../game/storage", "./Board", "./ScorePanel", "./Controls", "../hooks/useEventListener", "../hooks/useSwipe", "../App.css"], "external_methods": ["makeEmptyBoard", "spawnRandomTile", "canMergeOrMove", "getMaxTile", "getBestScore", "setBestScore", "getLastState", "setLastState", "clearLastState", "move", "cloneBoard"], "published": ["Game"], "classes": [], "methods": [{"name": "handleRestart", "description": "Resets the game to start a new session, optionally clearing saved state and initializing a new empty board with initial tiles."}, {"name": "afterMoveHousekeeping", "description": "Handles post-move updates: spawns a new tile, updates the board and score, checks for win or game over conditions."}, {"name": "handleMove", "description": "Performs a move in the specified direction, updates history, and triggers game state updates accordingly."}, {"name": "handleUndo", "description": "Reverts to the previous game state from history, updating board, score, and flags."}, {"name": "Game()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useState", "useEffect", "useCallback", "useMemo", "useRef", "setState", "getBestScore", "setBestScore", "getLastState", "setLastState", "clearLastState", "makeEmptyBoard", "spawnRandomTile", "canMergeOrMove", "getMaxTile", "move", "cloneBoard", "useEventListener", "useSwipe"], "search-terms": ["React Game component", "2048 main container", "game state management", "keyboard controls", "touch swipe controls", "initialize game", "game reset", "move handling", "spawn tiles", "game over detection", "win detection"], "state": 2, "file_id": 20, "knowledge_revision": 45, "git_revision": "", "ctags": [{"_type": "tag", "name": "Game", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^function Game() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            board={board}$/", "language": "JavaScript", "kind": "field", "scope": "Game.board", "scopeKind": "class"}, {"_type": "tag", "name": "gameOver", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            gameOver={gameOver}$/", "language": "JavaScript", "kind": "field", "scope": "Game.gameOver", "scopeKind": "class"}, {"_type": "tag", "name": "gameWon", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            gameWon={gameWon}$/", "language": "JavaScript", "kind": "field", "scope": "Game.gameWon", "scopeKind": "class"}, {"_type": "tag", "name": "handleUndo", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            onUndo={handleUndo}$/", "language": "JavaScript", "kind": "field", "scope": "Game.onUndo", "scopeKind": "class"}, {"_type": "tag", "name": "history", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            isUndoDisabled={history.length === 0}$/", "language": "JavaScript", "kind": "field", "scope": "Game.isUndoDisabled", "scopeKind": "class"}, {"_type": "tag", "name": "lastSpawnRef", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            lastSpawn={lastSpawnRef.current}$/", "language": "JavaScript", "kind": "field", "scope": "Game.lastSpawn", "scopeKind": "class"}, {"_type": "tag", "name": "maxTile", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            maxTile={maxTile}$/", "language": "JavaScript", "kind": "field", "scope": "Game.maxTile", "scopeKind": "class"}, {"_type": "tag", "name": "swipeRef", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/components/Game.js", "pattern": "/^            ref={swipeRef}$/", "language": "JavaScript", "kind": "field", "scope": "Game.ref", "scopeKind": "class"}], "hash": "bb26109bb8ebed67aed9680385d8bbd7", "format-version": 4, "code-base-name": "2048_game_frontend", "filename": "2048_game_frontend/src/components/Game.js", "fields": [{"name": "board={board}", "scope": "Game.board", "scopeKind": "class", "description": "unavailable"}, {"name": "gameOver={gameOver}", "scope": "Game.gameOver", "scopeKind": "class", "description": "unavailable"}, {"name": "gameWon={gameWon}", "scope": "Game.gameWon", "scopeKind": "class", "description": "unavailable"}, {"name": "onUndo={handleUndo}", "scope": "Game.onUndo", "scopeKind": "class", "description": "unavailable"}, {"name": "isUndoDisabled={history.length === 0}", "scope": "Game.isUndoDisabled", "scopeKind": "class", "description": "unavailable"}, {"name": "lastSpawn={lastSpawnRef.current}", "scope": "Game.lastSpawn", "scopeKind": "class", "description": "unavailable"}, {"name": "maxTile={maxTile}", "scope": "Game.maxTile", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={swipeRef}", "scope": "Game.ref", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"45": ""}]}