{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for managing game state persistence for the 2048 game using localStorage. It includes methods for storing, retrieving, and clearing the best score and last game state, with environment guards to handle non-browser contexts.", "external_files": [], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse"], "published": ["isStorageAvailable", "getBestScore", "setBestScore", "getLastState", "setLastState", "clearLastState"], "classes": [], "methods": [{"name": "isStorageAvailable()", "description": "Checks if localStorage is available in the current environment by attempting to write and remove a test key.", "scope": "", "scopeKind": ""}, {"name": "getBestScore()", "description": "Retrieves the best score from localStorage, returning 0 if not found or not accessible.", "scope": "", "scopeKind": ""}, {"name": "setBestScore(score)", "description": "Stores the provided score as the best score in localStorage after validation.", "scope": "", "scopeKind": ""}, {"name": "getLastState()", "description": "Retrieves the last game state (board and score) from localStorage, returning null if unavailable or invalid.", "scope": "", "scopeKind": ""}, {"name": "setLastState(state)", "description": "Saves the current game state (board and score) to localStorage.", "scope": "", "scopeKind": ""}, {"name": "clearLastState()", "description": "Removes the stored last game state from localStorage.", "scope": "", "scopeKind": ""}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse"], "search-terms": ["localStorage", "game storage", "2048_save", "best score", "last state", "board state", "storage utility"], "state": 2, "file_id": 19, "knowledge_revision": 43, "git_revision": "", "ctags": [{"_type": "tag", "name": "BEST_SCORE_KEY", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^const BEST_SCORE_KEY = \"2048_best_score\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LAST_STATE_KEY", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^const LAST_STATE_KEY = \"2048_last_state\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearLastState", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^export function clearLastState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getBestScore", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^export function getBestScore() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getLastState", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^export function getLastState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isStorageAvailable", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^export function isStorageAvailable() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setBestScore", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^export function setBestScore(score) {$/", "language": "JavaScript", "kind": "function", "signature": "(score)"}, {"_type": "tag", "name": "setLastState", "path": "/home/kavia/workspace/code-generation/2048-puzzle-game-29620-29629/2048_game_frontend/src/game/storage.js", "pattern": "/^export function setLastState(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}], "hash": "5aef8372328a6942e5b7c6f2125171c6", "format-version": 4, "code-base-name": "2048_game_frontend", "filename": "2048_game_frontend/src/game/storage.js", "revision_history": [{"43": ""}]}