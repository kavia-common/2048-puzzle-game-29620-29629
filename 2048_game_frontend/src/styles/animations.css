:root {
  --tile-gap: 10px;
  --tile-padding: 16px;
  --tile-transition: 140ms cubic-bezier(0.22, 1, 0.36, 1);
  --tile-scale-transition: 180ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Board and tiles layer polishing */
.board {
  position: relative;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(37,99,235,0.06), rgba(255,255,255,0.9));
}

.tiles-layer {
  position: absolute;
  inset: 0;
  padding: var(--tile-padding);
  /* We keep a grid for placeholder alignment underlay; tiles themselves are absolutely positioned */
}

/* Tile base style when using absolute positioning for smooth transforms */
.tile {
  position: absolute;
  will-change: transform;
  transition:
    transform var(--tile-transition),
    background-color 200ms ease,
    box-shadow 200ms ease;
  display: grid;
  place-items: center;
  border-radius: 10px;
  box-shadow: var(--shadow-md);
  user-select: none;
}

/* Spawn animation (scale in) */
@keyframes tile-pop-in {
  0% { transform: scale(0.7); opacity: 0; }
  60% { transform: scale(1.06); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
.tile--new {
  animation: tile-pop-in var(--tile-scale-transition);
}

/* Merge pulse animation */
@keyframes tile-merge-pulse {
  0% { transform: scale(1); }
  40% { transform: scale(1.08); }
  100% { transform: scale(1); }
}
.tile--merged {
  animation: tile-merge-pulse 160ms ease-in-out;
}

/* Overlay polish */
.board__overlay {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 800;
  letter-spacing: -0.02em;
}
.board__overlay--lose {
  background: rgba(17,24,39,0.60);
  color: #fff;
}
.board__overlay--win {
  background: rgba(245, 158, 11, 0.16);
  color: #111827;
}

/* Responsive font scaling inside tiles */
.tile__value {
  font-weight: 800;
  line-height: 1;
  text-shadow: 0 1px 0 rgba(0,0,0,0.05);
  transform: translateZ(0); /* promote for crisp text during transform */
}
